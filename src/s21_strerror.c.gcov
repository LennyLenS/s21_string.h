        -:    0:Source:s21_string_files/s21_strerror.c
        -:    1:#include <stdio.h>
        -:    2:
        -:    3:#include "../s21_sprintf.h"
        -:    4:#include "s21_string.h"
        -:    5:
        -:    6:#if defined(__APPLE__)
        -:    7:#define ERROR "Unknown error:"
        -:    8:#define MAXMASERROR 107
        -:    9:#define MINMASERROR 0
        -:   10:static const char *maserror[] = {
        -:   11:    "Undefined error: 0",
        -:   12:    "Operation not permitted",
        -:   13:    "No such file or directory",
        -:   14:    "No such process",
        -:   15:    "Interrupted system call",
        -:   16:    "Input/output error",
        -:   17:    "Device not configured",
        -:   18:    "Argument list too long",
        -:   19:    "Exec format error",
        -:   20:    "Bad file descriptor",
        -:   21:    "No child processes",
        -:   22:    "Resource deadlock avoided",
        -:   23:    "Cannot allocate memory",
        -:   24:    "Permission denied",
        -:   25:    "Bad address",
        -:   26:    "Block device required",
        -:   27:    "Resource busy",
        -:   28:    "File exists",
        -:   29:    "Cross-device link",
        -:   30:    "Operation not supported by device",
        -:   31:    "Not a directory",
        -:   32:    "Is a directory",
        -:   33:    "Invalid argument",
        -:   34:    "Too many open files in system",
        -:   35:    "Too many open files",
        -:   36:    "Inappropriate ioctl for device",
        -:   37:    "Text file busy",
        -:   38:    "File too large",
        -:   39:    "No space left on device",
        -:   40:    "Illegal seek",
        -:   41:    "Read-only file system",
        -:   42:    "Too many links",
        -:   43:    "Broken pipe",
        -:   44:    "Numerical argument out of domain",
        -:   45:    "Result too large",
        -:   46:    "Resource temporarily unavailable",
        -:   47:    "Operation now in progress",
        -:   48:    "Operation already in progress",
        -:   49:    "Socket operation on non-socket",
        -:   50:    "Destination address required",
        -:   51:    "Message too long",
        -:   52:    "Protocol wrong type for socket",
        -:   53:    "Protocol not available",
        -:   54:    "Protocol not supported",
        -:   55:    "Socket type not supported",
        -:   56:    "Operation not supported",
        -:   57:    "Protocol family not supported",
        -:   58:    "Address family not supported by protocol family",
        -:   59:    "Address already in use",
        -:   60:    "Can't assign requested address",
        -:   61:    "Network is down",
        -:   62:    "Network is unreachable",
        -:   63:    "Network dropped connection on reset",
        -:   64:    "Software caused connection abort",
        -:   65:    "Connection reset by peer",
        -:   66:    "No buffer space available",
        -:   67:    "Socket is already connected",
        -:   68:    "Socket is not connected",
        -:   69:    "Can't send after socket shutdown",
        -:   70:    "Too many references: can't splice",
        -:   71:    "Operation timed out",
        -:   72:    "Connection refused",
        -:   73:    "Too many levels of symbolic links",
        -:   74:    "File name too long",
        -:   75:    "Host is down",
        -:   76:    "No route to host",
        -:   77:    "Directory not empty",
        -:   78:    "Too many processes",
        -:   79:    "Too many users",
        -:   80:    "Disc quota exceeded",
        -:   81:    "Stale NFS file handle",
        -:   82:    "Too many levels of remote in path",
        -:   83:    "RPC struct is bad",
        -:   84:    "RPC version wrong",
        -:   85:    "RPC prog. not avail",
        -:   86:    "Program version wrong",
        -:   87:    "Bad procedure for program",
        -:   88:    "No locks available",
        -:   89:    "Function not implemented",
        -:   90:    "Inappropriate file type or format",
        -:   91:    "Authentication error",
        -:   92:    "Need authenticator",
        -:   93:    "Device power is off",
        -:   94:    "Device error",
        -:   95:    "Value too large to be stored in data type",
        -:   96:    "Bad executable (or shared library)",
        -:   97:    "Bad CPU type in executable",
        -:   98:    "Shared library version mismatch",
        -:   99:    "Malformed Mach-o file",
        -:  100:    "Operation canceled",
        -:  101:    "Identifier removed",
        -:  102:    "No message of desired type",
        -:  103:    "Illegal byte sequence",
        -:  104:    "Attribute not found",
        -:  105:    "Bad message",
        -:  106:    "EMULTIHOP (Reserved)",
        -:  107:    "No message available on STREAM",
        -:  108:    "ENOLINK (Reserved)",
        -:  109:    "No STREAM resources",
        -:  110:    "Not a STREAM",
        -:  111:    "Protocol error",
        -:  112:    "STREAM ioctl timeout",
        -:  113:    "Operation not supported on socket",
        -:  114:    "Policy not found",
        -:  115:    "State not recoverable",
        -:  116:    "Previous owner died",
        -:  117:    "Interface output queue is full"};
        -:  118:
        -:  119:#elif defined(__linux__)
        -:  120:#define ERROR "No error information"
        -:  121:#define MAXMASERROR 132
        -:  122:#define MINMASERROR 0
        -:  123:
        -:  124:static const char *maserror[] = {"No error information",
        -:  125:                                 "Operation not permitted",
        -:  126:                                 "No such file or directory",
        -:  127:                                 "No such process",
        -:  128:                                 "Interrupted system call",
        -:  129:                                 "I/O error",
        -:  130:                                 "No such device or address",
        -:  131:                                 "Argument list too long",
        -:  132:                                 "Exec format error",
        -:  133:                                 "Bad file descriptor",
        -:  134:                                 "No child process",
        -:  135:                                 "Resource temporarily unavailable",
        -:  136:                                 "Out of memory",
        -:  137:                                 "Permission denied",
        -:  138:                                 "Bad address",
        -:  139:                                 "Block device required",
        -:  140:                                 "Resource busy",
        -:  141:                                 "File exists",
        -:  142:                                 "Cross-device link",
        -:  143:                                 "No such device",
        -:  144:                                 "Not a directory",
        -:  145:                                 "Is a directory",
        -:  146:                                 "Invalid argument",
        -:  147:                                 "Too many open files in system",
        -:  148:                                 "No file descriptors available",
        -:  149:                                 "Not a tty",
        -:  150:                                 "Text file busy",
        -:  151:                                 "File too large",
        -:  152:                                 "No space left on device",
        -:  153:                                 "Invalid seek",
        -:  154:                                 "Read-only file system",
        -:  155:                                 "Too many links",
        -:  156:                                 "Broken pipe",
        -:  157:                                 "Domain error",
        -:  158:                                 "Result not representable",
        -:  159:                                 "Resource deadlock would occur",
        -:  160:                                 "Filename too long",
        -:  161:                                 "No locks available",
        -:  162:                                 "Function not implemented",
        -:  163:                                 "Directory not empty",
        -:  164:                                 "Symbolic link loop",
        -:  165:                                 "No error information",
        -:  166:                                 "No message of desired type",
        -:  167:                                 "Identifier removed",
        -:  168:                                 "No error information",
        -:  169:                                 "No error information",
        -:  170:                                 "No error information",
        -:  171:                                 "No error information",
        -:  172:                                 "No error information",
        -:  173:                                 "No error information",
        -:  174:                                 "No error information",
        -:  175:                                 "No error information",
        -:  176:                                 "No error information",
        -:  177:                                 "No error information",
        -:  178:                                 "No error information",
        -:  179:                                 "No error information",
        -:  180:                                 "No error information",
        -:  181:                                 "No error information",
        -:  182:                                 "No error information",
        -:  183:                                 "No error information",
        -:  184:                                 "Device not a stream",
        -:  185:                                 "No data available",
        -:  186:                                 "Device timeout",
        -:  187:                                 "Out of streams resources",
        -:  188:                                 "No error information",
        -:  189:                                 "No error information",
        -:  190:                                 "No error information",
        -:  191:                                 "Link has been severed",
        -:  192:                                 "No error information",
        -:  193:                                 "No error information",
        -:  194:                                 "No error information",
        -:  195:                                 "Protocol error",
        -:  196:                                 "Multihop attempted",
        -:  197:                                 "No error information",
        -:  198:                                 "Bad message",
        -:  199:                                 "Value too large for data type",
        -:  200:                                 "No error information",
        -:  201:                                 "File descriptor in bad state",
        -:  202:                                 "No error information",
        -:  203:                                 "No error information",
        -:  204:                                 "No error information",
        -:  205:                                 "No error information",
        -:  206:                                 "No error information",
        -:  207:                                 "No error information",
        -:  208:                                 "Illegal byte sequence",
        -:  209:                                 "No error information",
        -:  210:                                 "No error information",
        -:  211:                                 "No error information",
        -:  212:                                 "Not a socket",
        -:  213:                                 "Destination address required",
        -:  214:                                 "Message too large",
        -:  215:                                 "Protocol wrong type for socket",
        -:  216:                                 "Protocol not available",
        -:  217:                                 "Protocol not supported",
        -:  218:                                 "Socket type not supported",
        -:  219:                                 "Not supported",
        -:  220:                                 "Protocol family not supported",
        -:  221:                                 "Address family not supported by protocol",
        -:  222:                                 "Address in use",
        -:  223:                                 "Address not available",
        -:  224:                                 "Network is down",
        -:  225:                                 "Network unreachable",
        -:  226:                                 "Connection reset by network",
        -:  227:                                 "Connection aborted",
        -:  228:                                 "Connection reset by peer",
        -:  229:                                 "No buffer space available",
        -:  230:                                 "Socket is connected",
        -:  231:                                 "Socket not connected",
        -:  232:                                 "Cannot send after socket shutdown",
        -:  233:                                 "No error information",
        -:  234:                                 "Operation timed out",
        -:  235:                                 "Connection refused",
        -:  236:                                 "Host is down",
        -:  237:                                 "Host is unreachable",
        -:  238:                                 "Operation already in progress",
        -:  239:                                 "Operation in progress",
        -:  240:                                 "Stale file handle",
        -:  241:                                 "No error information",
        -:  242:                                 "No error information",
        -:  243:                                 "No error information",
        -:  244:                                 "No error information",
        -:  245:                                 "Remote I/O error",
        -:  246:                                 "Quota exceeded",
        -:  247:                                 "No medium found",
        -:  248:                                 "Wrong medium type",
        -:  249:                                 "Operation canceled",
        -:  250:                                 "Required key not available",
        -:  251:                                 "Key has expired",
        -:  252:                                 "Key has been revoked",
        -:  253:                                 "Key was rejected by service",
        -:  254:                                 "Previous owner died",
        -:  255:                                 "State not recoverable"};
        -:  256:#endif
        -:  257:
      151:  258:char *s21_strerror(int errnum) {
        -:  259:  static char res[256];
      151:  260:  if (errnum >= MAXMASERROR || errnum < MINMASERROR) {
        -:  261:#if defined(__APPLE__)
       44:  262:    s21_sprintf(res, "%s %d", ERROR, errnum);
        -:  263:#elif defined(__linux__)
        -:  264:    s21_sprintf(res, "%s", ERROR);
        -:  265:#endif
        -:  266:  } else {
      107:  267:    s21_strcpy(res, (char *)maserror[errnum]);
        -:  268:  }
      151:  269:  return res;
        -:  270:}
