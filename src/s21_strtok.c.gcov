        -:    0:Source:s21_string_files/s21_strtok.c
        -:    1:#include <stdio.h>
        -:    2:
        -:    3:#include "s21_string.h"
       57:    4:char *s21_strtok(char *str, const char *delim) {
       57:    5:  int str_ind = 0;
        -:    6:  static int ret_ind;
        -:    7:  static char *str_cash = NULL;
        -:    8:  static int first_time;
       57:    9:  if (str == S21_NULL && first_time == 0) {
    #####:   10:    return S21_NULL;
        -:   11:  };
       57:   12:  if (str_cash == NULL && str == S21_NULL) {
        8:   13:    return S21_NULL;
        -:   14:  }
       49:   15:  first_time = 1;
        -:   16:
       49:   17:  if (str != S21_NULL) {
       23:   18:    ret_ind = 0;
       23:   19:    str_cash = S21_NULL;
       23:   20:    str_cash = str;
        -:   21:  };
       49:   22:  if (str == S21_NULL) {
       26:   23:    str = str_cash;
        -:   24:  };
        -:   25:
      128:   26:  while (str[str_ind] != '\0') {
      116:   27:    int delim_ind = 0;
      116:   28:    int match_count = 0;
      429:   29:    while (delim[delim_ind] != '\0') {
      392:   30:      if (str[str_ind] == delim[delim_ind]) {
       79:   31:        match_count++;
       79:   32:        break;
        -:   33:      };
      313:   34:      delim_ind++;
        -:   35:    };
      116:   36:    if (match_count == 0) break;
       79:   37:    str_ind++;
        -:   38:  };
        -:   39:
       49:   40:  if ((int)s21_strlen(str) == str_ind) {
       12:   41:    str_cash = NULL;
       12:   42:    return S21_NULL;
        -:   43:  }
       37:   44:  ret_ind = str_ind;
        -:   45:
      224:   46:  while (str[str_ind] != '\0') {
      218:   47:    int delim_ind = 0;
      218:   48:    int match = 0;
      597:   49:    while (delim_ind <= (int)s21_strlen(delim) && delim[delim_ind] != '\0') {
      410:   50:      if (str[str_ind] == delim[delim_ind]) {
       31:   51:        str[str_ind] = '\0';
       31:   52:        match++;
       31:   53:        break;
        -:   54:      };
      379:   55:      delim_ind++;
        -:   56:    }
      218:   57:    str_ind++;
      218:   58:    if (match == 1) break;
        -:   59:  }
      37*:   60:  if (str[ret_ind] == '\0') return S21_NULL;
       37:   61:  str_cash = &str[str_ind];
       37:   62:  return &str[ret_ind];
        -:   63:}
